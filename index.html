<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Âú∞ÂúñÊ®ôË®ªÁ≥ªÁµ± - mobile-image-preview-fixed-20240927</title>
    
    <!-- PWA Support -->
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#2196F3">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Âú∞ÂúñÊ®ôË®ª">
    <link rel="apple-touch-icon" href="icon-192x192.png">
    
    <!-- Meta tags for better mobile experience -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="application-name" content="Âú∞ÂúñÊ®ôË®ªÁ≥ªÁµ±">
    <meta name="msapplication-TileColor" content="#2196F3">
    <meta name="msapplication-TileImage" content="icon-144x144.png">
    
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <link rel="stylesheet" href="styles.css?v=mobile-debug-version-20240927">
    <link rel="stylesheet" href="feature-guide-styles.css">
</head>
<body>
    <!-- Âõ∫ÂÆöÂäüËÉΩË™™ÊòéÊåâÈàï -->
    <div id="fixedFeatureGuideBtn" onclick="showSimpleFeatureGuide()" style="
        position: fixed !important;
        top: 120px !important;
        right: 20px !important;
        width: 48px !important;
        height: 48px !important;
        background-color: #007bff !important;
        color: white !important;
        border-radius: 50% !important;
        display: flex !important;
        flex-direction: column !important;
        align-items: center !important;
        justify-content: center !important;
        font-size: 10px !important;
        font-weight: bold !important;
        cursor: pointer !important;
        z-index: 999999 !important;
        box-shadow: 0 4px 12px rgba(0, 123, 255, 0.4) !important;
        border: 2px solid white !important;
        text-align: center !important;
        line-height: 1.1 !important;
        user-select: none !important;
        touch-action: manipulation !important;
        visibility: visible !important;
        opacity: 1 !important;
        pointer-events: auto !important;
        font-family: Arial, sans-serif !important;
    ">
        üéØ<br>Ë™™Êòé
    </div>

    <div class="container">
        <!-- Âú∞ÂúñÂÆπÂô® -->
        <div class="map-container">
            <div id="map"></div>
            
            <!-- ÂÖ®Ëû¢ÂπïÊåâÈàï -->
            <button id="fullscreenBtn" class="fullscreen-btn" title="ÂÖ®Ëû¢ÂπïÈ°ØÁ§∫" onclick="handleFullscreenClick()">
                <span id="fullscreenIcon">‚õ∂</span>
            </button>
            
            <!-- ÂÆö‰ΩçÈªûÊåâÈàï -->
            <button id="locationBtn" class="location-btn" title="ÂÆö‰ΩçÂà∞ÊàëÁöÑ‰ΩçÁΩÆ" onclick="handleLocationClick()">
                <span id="locationIcon">üìç</span>
            </button>
            
            <!-- Ëá™ÂãïÂ±Ö‰∏≠ÊåâÈàï -->
            <button id="centerBtn" class="center-btn" title="ÈñãÂïü/ÈóúÈñâËá™ÂãïÂ±Ö‰∏≠ÂäüËÉΩ" onclick="handleCenterClick()">
                <span id="centerIcon">üéØ</span>
            </button>
            
            <!-- ÂèØÁßªÂãïÁöÑË®≠ÂÆöÊåâÈàï -->
            <button id="floatingSettingsBtn" class="floating-settings-btn" title="Ë®≠ÂÆö">
                <span>‚öôÔ∏è</span>
            </button>
            
            <!-- ÊµÆÂãïÊéßÂà∂Èù¢Êùø -->
            <div class="floating-controls">
                <button id="addMarkerBtn" class="control-btn">
                    <span>üìç</span>
                    Ê®ôË®ªÊ®°Âºè
                </button>
                <button id="trackingBtn" class="control-btn">
                    <span>üìç</span>
                    ÈñãÂßãËøΩËπ§
                </button>
                <button id="notificationBtn" class="control-btn">
                    <span>üîï</span>
                    ÈñãÂïüÈÄöÁü•
                </button>
            </div>
            
            <!-- ‰ΩçÁΩÆÈ°ØÁ§∫ÂçÄÂüü -->
            <div id="currentLocation" onclick="handleCurrentLocationClick()">ÂÆö‰Ωç‰∏≠...</div>
            <div id="locationAccuracy" class="accuracy-display">Á≤æÂ∫¶: --</div>

        </div>
    </div>

    <!-- ÈÄöÁü•ÂΩàÁ™ó -->
    <div id="notificationModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>‰ΩçÁΩÆÊèêÈÜí</h2>
            <p id="notificationMessage"></p>
        </div>
    </div>

    <!-- Ê®ôË®ªÈªûË©≥ÊÉÖÂΩàÁ™ó -->
    <div id="markerModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Ê®ôË®ªÈªûË©≥ÊÉÖ</h2>
            <form id="markerForm">
                    <label for="markerName">ÂêçÁ®±:</label>
                    <input type="text" id="markerName" required>
                    
                    <label for="markerDescription">ÊèèËø∞:</label>
                    <textarea id="markerDescription" rows="2"></textarea>
                    
                    <div class="image-upload-section">
                        <label for="markerImages">ÂúñÁâá (ÊúÄÂ§ö6Âºµ):</label>
                        <div class="image-upload-container">
                            <input type="file" id="markerImages" accept="image/*" multiple style="display: none;">
                            <input type="file" id="cameraInput" accept="image/*" capture="environment" style="display: none;">
                            <div class="upload-buttons">
                                <button type="button" id="uploadImageBtn" class="upload-btn">üìÅ ÈÅ∏ÊìáÊ™îÊ°à</button>
                                <button type="button" id="cameraBtn" class="upload-btn camera-btn">üì∑ ÊãçÁÖß</button>
                            </div>
                            <div id="imagePreviewContainer" class="image-preview-container">
                                <!-- ÂãïÊÖãÁîüÊàêÁöÑÂúñÁâáÈ†êË¶ΩÂ∞áÈ°ØÁ§∫Âú®ÈÄôË£° -->
                            </div>
                        </div>
                    </div>
                    
                    <label for="markerGroup">ÊâÄÂ±¨ÁµÑÂà•:</label>
                    <select id="markerGroup"></select>
                    
                    <label for="markerSubgroup">ÊâÄÂ±¨Áæ§ÁµÑ:</label>
                    <select id="markerSubgroup"></select>
                    
                    <div class="marker-customization">
                        <div class="customization-row">
                            <div class="customization-group">
                                <label for="markerColor">È°èËâ≤:</label>
                                <div class="color-options">
                                    <input type="radio" id="color-red" name="markerColor" value="red" checked>
                                    <label for="color-red" class="color-option red"></label>
                                    
                                    <input type="radio" id="color-blue" name="markerColor" value="blue">
                                    <label for="color-blue" class="color-option blue"></label>
                                    
                                    <input type="radio" id="color-green" name="markerColor" value="green">
                                    <label for="color-green" class="color-option green"></label>
                                    
                                    <input type="radio" id="color-orange" name="markerColor" value="orange">
                                    <label for="color-orange" class="color-option orange"></label>
                                </div>
                            </div>
                            
                            <div class="customization-group">
                                <label for="markerIcon">ÂúñÊ°à:</label>
                                <div class="icon-options">
                                    <input type="radio" id="icon-default" name="markerIcon" value="üìç" checked>
                                    <label for="icon-default" class="icon-option">üìç</label>
                                    
                                    <input type="radio" id="icon-speaker" name="markerIcon" value="üì¢">
                                    <label for="icon-speaker" class="icon-option">üì¢</label>
                                    
                                    <input type="radio" id="icon-phone" name="markerIcon" value="üìû">
                                    <label for="icon-phone" class="icon-option">üìû</label>
                                    
                                    <input type="radio" id="icon-radio" name="markerIcon" value="üìª">
                                    <label for="icon-radio" class="icon-option">üìª</label>
                                    
                                    <input type="radio" id="icon-tb" name="markerIcon" value="TB">
                                    <label for="icon-tb" class="icon-option">TB</label>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="modal-buttons">
                        <button type="submit">‰øùÂ≠ò</button>
                        <button type="button" id="deleteMarkerBtn">Âà™Èô§</button>
                        <button type="button" class="cancel">ÂèñÊ∂à</button>
                    </div>
                </form>
        </div>
    </div>

    <!-- ÂàùÂßãË®≠ÂÆöÂΩàÁ™ó -->
    <div id="initialSetupModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>üéØ Ê≠°Ëøé‰ΩøÁî®Âú∞ÂúñÊ®ôË®ªÁ≥ªÁµ±</h2>
            <div class="setup-content">
                <div class="setup-section">
                    <h3>ÈÅ∏ÊìáÈ†êË®≠ÁµÑÂà•</h3>
                    <p>ÈÅ∏Êìá‰∏ÄÂÄãÁµÑÂà•‰ΩúÁÇ∫ÈñãÂßã‰ΩøÁî®ÁöÑÈ†êË®≠ÁµÑÂà•ÔºåÊÇ®ÂèØ‰ª•Èö®ÊôÇÂú®Â∑¶ÂÅ¥Èù¢ÊùøÂàáÊèõ„ÄÇ</p>
                    <select id="defaultGroupSelect">
                        <option value="">‰∏çÈÅ∏ÊìáÈ†êË®≠ÁµÑÂà•</option>
                    </select>
                    <button id="createFirstGroupBtn" class="secondary-btn">Âª∫Á´ãÁ¨¨‰∏ÄÂÄãÁµÑÂà•</button>
                </div>
                
                <div class="setup-section">
                    <h3>ÊèêÈÜíË®≠ÂÆö</h3>
                    <div class="setup-grid">
                        <div class="setup-item">
                            <label for="setupAlertDistance">ÊèêÈÜíË∑ùÈõ¢ (ÂÖ¨Â∞∫):</label>
                            <input type="number" id="setupAlertDistance" value="100" min="10" max="1000">
                        </div>
                        <div class="setup-item">
                            <label for="setupAlertInterval">ÊèêÈÜíÈñìÈöî (Áßí):</label>
                            <input type="number" id="setupAlertInterval" value="30" min="5" max="300">
                        </div>
                    </div>
                </div>
                
                <div class="setup-section">
                    <h3>Ê¨äÈôêË®≠ÂÆö</h3>
                    <p>ÁÇ∫‰∫ÜÊèê‰æõÂÆåÊï¥ÁöÑ‰ΩçÁΩÆÊèêÈÜíÂäüËÉΩÔºåÊàëÂÄëÈúÄË¶Å‰ª•‰∏ãÊ¨äÈôêÔºö</p>
                    <label class="checkbox-label">
                        <input type="checkbox" id="setupEnableLocation" checked>
                        üìç ÂïüÁî®‰ΩçÁΩÆËøΩËπ§
                    </label>
                    <label class="checkbox-label">
                        <input type="checkbox" id="setupEnableNotifications">
                        üîî ÂïüÁî®ÈÄöÁü•ÊèêÈÜí (Âª∫Ë≠∞ÊâãÊ©üÁî®Êà∂ÈñãÂïü)
                    </label>
                    <div class="permission-note">
                        <small>üí° ÊâãÊ©üÁî®Êà∂Âª∫Ë≠∞ÂêåÊôÇÈñãÂïüÂÖ©È†ÖÊ¨äÈôê‰ª•Áç≤ÂæóÊúÄ‰Ω≥È´îÈ©ó</small>
                    </div>
                </div>
            </div>
            
            <div class="setup-buttons">
                <button id="startUsingBtn" class="primary-btn">ÈñãÂßã‰ΩøÁî®</button>
                <button id="skipSetupBtn" class="secondary-btn">Ë∑≥ÈÅéË®≠ÂÆö</button>
            </div>
        </div>
    </div>

    <!-- Âª∫Á´ãÁµÑÂà•ÂΩàÁ™ó -->
    <div id="createGroupModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Âª∫Á´ãÊñ∞ÁµÑÂà•</h2>
            <form id="createGroupForm">
                <label for="newGroupName">ÁµÑÂà•ÂêçÁ®±:</label>
                <input type="text" id="newGroupName" placeholder="‰æãÂ¶ÇÔºöÂ∑•‰ΩúÂú∞Èªû„ÄÅ‰ºëÈñíÂ†¥ÊâÄ" required>
                
                <label for="newGroupDescription">ÁµÑÂà•ÊèèËø∞ (ÂèØÈÅ∏):</label>
                <textarea id="newGroupDescription" rows="2" placeholder="ÊèèËø∞ÈÄôÂÄãÁµÑÂà•ÁöÑÁî®ÈÄî"></textarea>
                
                <div class="form-buttons">
                    <button type="submit">Âª∫Á´ãÁµÑÂà•</button>
                    <button type="button" class="cancel">ÂèñÊ∂à</button>
                </div>
            </form>
        </div>
    </div>

    <!-- ÂúñÁâáÈ†êË¶ΩÊ®°ÊÖãÊ°Ü -->
    <div id="imagePreviewModal" class="modal image-modal">
        <div class="modal-content image-modal-content">
            <span class="close image-modal-close">&times;</span>
            <div class="image-modal-header">
                <h3 id="imageModalTitle">ÂúñÁâáÈ†êË¶Ω</h3>
                <div class="image-navigation">
                    <span id="imageCounter">1 / 1</span>
                </div>
            </div>
            <div class="image-modal-body">
                <button id="prevImageBtn" class="nav-btn">‚Äπ</button>
                <button id="nextImageBtn" class="nav-btn">‚Ä∫</button>
                <img id="modalPreviewImg" src="" alt="È†êË¶ΩÂúñÁâá">
                <div id="imageThumbnailContainer" class="image-thumbnail-container">
                    <!-- Á∏ÆÂúñÂ∞áÂãïÊÖãÁîüÊàêÂú®ÈÄôË£° -->
                </div>
            </div>
        </div>
    </div>

    <!-- ÁµÑÂà•/Áæ§ÁµÑË©≥ÊÉÖÊµÆÂãïË¶ñÁ™ó -->
    <div id="groupDetailsModal" class="modal">
        <div class="modal-content group-detail-content">
            <span class="close">&times;</span>
            <div class="group-detail-header">
                <h2 id="groupDetailsTitle">ÁµÑÂà•Ë©≥ÊÉÖ</h2>
                <div id="groupDetailsStats" class="group-detail-stats">
                    <span id="groupMarkerCount">0 ÂÄãÊ®ôË®ªÈªû</span>
                </div>
            </div>
            <div class="group-detail-body">
                <div class="group-detail-actions">
                    <button id="showAllGroupMarkersBtn" class="detail-action-btn">
                        <span>üëÅÔ∏è</span>
                        È°ØÁ§∫ÊâÄÊúâÊ®ôË®ªÈªû
                    </button>
                    <button id="hideAllGroupMarkersBtn" class="detail-action-btn">
                        <span>üôà</span>
                        Èö±ËóèÊâÄÊúâÊ®ôË®ªÈªû
                    </button>
                    <button id="centerToGroupBtn" class="detail-action-btn">
                        <span>üéØ</span>
                        Â±Ö‰∏≠È°ØÁ§∫
                    </button>
                </div>
                <div class="group-markers-list">
                    <h4>Ê®ôË®ªÈªûÂàóË°®</h4>
                    <div id="groupDetailsMarkersList" class="detail-markers-container">
                        <!-- ÂãïÊÖãÁîüÊàêÁöÑÊ®ôË®ªÈªûÂàóË°® -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ÂÖ®ÈÉ®ÁµÑÂà•Áæ§ÁµÑË©≥ÊÉÖÊµÆÂãïË¶ñÁ™ó -->
    <div id="allDetailsModal" class="modal">
        <div class="modal-content all-details-content">
            <span class="close">&times;</span>
            <div class="all-details-header">
                <h2>üìã ÊâÄÊúâÁµÑÂà•ÂèäÁæ§ÁµÑË©≥ÊÉÖ</h2>
                <div class="all-details-stats">
                    <span id="totalGroupsCount">0 ÂÄãÁµÑÂà•</span>
                    <span id="totalMarkersCount">0 ÂÄãÊ®ôË®ªÈªû</span>
                </div>
            </div>
            <div class="all-details-body">
                <div id="allDetailsContent" class="all-details-container">
                    <!-- ÂãïÊÖãÁîüÊàêÁöÑÊâÄÊúâÁµÑÂà•Áæ§ÁµÑÂÖßÂÆπ -->
                </div>
            </div>
        </div>
    </div>

    <!-- ÂåØÂÖ•ÈÅ∏È†ÖÊ®°ÊÖãÊ°Ü -->
    <div id="importOptionsModal" class="modal">
        <div class="modal-content import-options-content">
            <span class="close">&times;</span>
            <h2>ÂåØÂÖ•Ê®ôË®ªÈªûÈÅ∏È†Ö</h2>
            <div class="import-options-body">
                <div id="comparisonInfo" class="import-comparison-info">
                    <h3>Ê™¢Ê∏¨Âà∞ÈáçË§áÁöÑÊ®ôË®ªÈªû</h3>
                    <p>Á≥ªÁµ±ÁôºÁèæÂåØÂÖ•ÁöÑË≥áÊñô‰∏≠Êúâ <span id="duplicateCount">0</span> ÂÄãÊ®ôË®ªÈªûËàáÁèæÊúâË≥áÊñôÈáçË§á„ÄÇ</p>
                    <p>Êñ∞Â¢ûÁöÑÊ®ôË®ªÈªûÊúâ <span id="newCount">0</span> ÂÄã„ÄÇ</p>
                </div>
                
                <div class="import-options">
                    <div class="import-option">
                        <input type="radio" id="importMerge" name="importMode" value="merge" checked>
                        <label for="importMerge">
                            <div class="option-header">
                                <span class="option-icon">‚ûï</span>
                                <span class="option-title">Âêà‰ΩµÂåØÂÖ•</span>
                            </div>
                            <div class="option-description">
                                ‰øùÁïôÁèæÊúâÊ®ôË®ªÈªûÔºåÂè™Ê∑ªÂä†Êñ∞ÁöÑÊ®ôË®ªÈªûÔºàË∑≥ÈÅéÈáçË§áÁöÑÔºâ
                            </div>
                        </label>
                    </div>
                    
                    <div class="import-option">
                        <input type="radio" id="importUpdate" name="importMode" value="update">
                        <label for="importUpdate">
                            <div class="option-header">
                                <span class="option-icon">üîÑ</span>
                                <span class="option-title">Êõ¥Êñ∞Âêà‰Ωµ</span>
                            </div>
                            <div class="option-description">
                                ‰øùÁïôÁèæÊúâÊ®ôË®ªÈªûÔºåÊ∑ªÂä†Êñ∞ÁöÑÊ®ôË®ªÈªûÔºå‰∏¶Êõ¥Êñ∞ÈáçË§áÊ®ôË®ªÈªûÁöÑË≥áË®ä
                            </div>
                        </label>
                    </div>
                </div>
                
                <div class="duplicate-details" id="duplicateDetails" style="display: none;">
                    <h4>ÈáçË§áÁöÑÊ®ôË®ªÈªûË©≥ÊÉÖ</h4>
                    <div id="duplicateList" class="duplicate-list">
                        <!-- ÂãïÊÖãÁîüÊàêÁöÑÈáçË§áÊ®ôË®ªÈªûÂàóË°® -->
                    </div>
                </div>
            </div>
            
            <div class="import-options-buttons">
                <button id="confirmImportBtn" class="primary-btn">Á¢∫Ë™çÂåØÂÖ•</button>
                <button id="cancelImportBtn" class="secondary-btn">ÂèñÊ∂à</button>
                <button id="showDuplicatesBtn" class="detail-btn">Êü•ÁúãÈáçË§áË©≥ÊÉÖ</button>
            </div>
        </div>
    </div>

    <!-- ÊµÆÂãïË®≠ÂÆöË¶ñÁ™ó -->
    <div id="floatingSettingsModal" class="floating-settings-modal" style="display: none;">
        <div class="floating-settings-content">
            <div class="floating-settings-header">
                <h3>‚öôÔ∏è Ë®≠ÂÆö</h3>
                <button id="closeFloatingSettings" class="close-settings-btn">&times;</button>
            </div>
            <div class="floating-settings-body">
                <!-- ÂäüËÉΩË™™ÊòéÈ†ÅÈù¢ -->
                <div class="setting-group">
                    <div id="featureGuidePanel" class="feature-guide-panel">
                        <div class="feature-guide-header">
                            <h3>üéØ Âú∞ÂúñÊ®ôË®ªÁ≥ªÁµ±ÂäüËÉΩË™™Êòé</h3>
                            <button id="toggleFeatureGuide" class="toggle-guide-btn">
                                <span id="guideToggleIcon">‚ñ∂</span>
                            </button>
                        </div>
                        
                        <div id="featureGuideContent" class="feature-guide-content" style="display: none;">
                            <div class="feature-categories">
                                <!-- Âú∞ÂúñËàáÂÆö‰ΩçÂäüËÉΩ -->
                                <div class="feature-category">
                                    <div class="category-header">
                                        <div class="category-icon">üó∫Ô∏è</div>
                                        <h4>Âú∞ÂúñËàáÂÆö‰Ωç</h4>
                                    </div>
                                    <div class="feature-list">
                                        <div class="feature-item">
                                            <div class="feature-icon">üìç</div>
                                            <div class="feature-info">
                                                <h5>Âç≥ÊôÇÂÆö‰Ωç</h5>
                                                <p>Ëá™ÂãïÁç≤ÂèñÁï∂ÂâçGPS‰ΩçÁΩÆ‰∏¶Âú®Âú∞Âúñ‰∏äÈ°ØÁ§∫</p>
                                            </div>
                                        </div>
                                        <div class="feature-item">
                                            <div class="feature-icon">üéØ</div>
                                            <div class="feature-info">
                                                <h5>Ëá™ÂãïÂ±Ö‰∏≠</h5>
                                                <p>Âú∞ÂúñËá™ÂãïË∑üÈö®Áï∂Ââç‰ΩçÁΩÆÁßªÂãï</p>
                                            </div>
                                        </div>
                                        <div class="feature-item">
                                            <div class="feature-icon">‚õ∂</div>
                                            <div class="feature-info">
                                                <h5>ÂÖ®Ëû¢ÂπïÈ°ØÁ§∫</h5>
                                                <p>ÂàáÊèõÂÖ®Ëû¢ÂπïÊ®°ÂºèÁç≤ÂæóÊõ¥Â•ΩÁöÑÂú∞ÂúñÈ´îÈ©ó</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Ê®ôË®ªÈªûÁÆ°ÁêÜ -->
                                <div class="feature-category">
                                    <div class="category-header">
                                        <div class="category-icon">üìå</div>
                                        <h4>Ê®ôË®ªÈªûÁÆ°ÁêÜ</h4>
                                    </div>
                                    <div class="feature-list">
                                        <div class="feature-item">
                                            <div class="feature-icon">‚ûï</div>
                                            <div class="feature-info">
                                                <h5>Êñ∞Â¢ûÊ®ôË®ªÈªû</h5>
                                                <p>ÈªûÊìäÂú∞Âúñ‰ªªÊÑè‰ΩçÁΩÆÊñ∞Â¢ûËá™ÂÆöÁæ©Ê®ôË®ªÈªû</p>
                                            </div>
                                        </div>
                                        <div class="feature-item">
                                            <div class="feature-icon">üé®</div>
                                            <div class="feature-info">
                                                <h5>Ëá™ÂÆöÁæ©Â§ñËßÄ</h5>
                                                <p>ÈÅ∏ÊìáÈ°èËâ≤„ÄÅÂúñÊ°àÔºåËÆìÊ®ôË®ªÈªûÊõ¥ÂÖ∑Ë≠òÂà•ÊÄß</p>
                                            </div>
                                        </div>
                                        <div class="feature-item">
                                            <div class="feature-icon">üì∑</div>
                                            <div class="feature-info">
                                                <h5>ÂúñÁâá‰∏äÂÇ≥</h5>
                                                <p>ÁÇ∫ÊØèÂÄãÊ®ôË®ªÈªûÊ∑ªÂä†ÊúÄÂ§ö6ÂºµÂúñÁâá</p>
                                            </div>
                                        </div>
                                        <div class="feature-item">
                                            <div class="feature-icon">üîç</div>
                                            <div class="feature-info">
                                                <h5>ÊêúÂ∞ãÂäüËÉΩ</h5>
                                                <p>Âø´ÈÄüÊêúÂ∞ãÊ®ôË®ªÈªûÂêçÁ®±ÊàñÊèèËø∞</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- ÁµÑÂà•ÁÆ°ÁêÜ -->
                                <div class="feature-category">
                                    <div class="category-header">
                                        <div class="category-icon">üë•</div>
                                        <h4>ÁµÑÂà•ËàáÁæ§ÁµÑÁÆ°ÁêÜ</h4>
                                    </div>
                                    <div class="feature-list">
                                        <div class="feature-item">
                                            <div class="feature-icon">üìÅ</div>
                                            <div class="feature-info">
                                                <h5>Âª∫Á´ãÁµÑÂà•</h5>
                                                <p>Âª∫Á´ã‰∏çÂêåÁµÑÂà•‰æÜÂàÜÈ°ûÁÆ°ÁêÜÊ®ôË®ªÈªû</p>
                                            </div>
                                        </div>
                                        <div class="feature-item">
                                            <div class="feature-icon">üìÇ</div>
                                            <div class="feature-info">
                                                <h5>Â≠êÁæ§ÁµÑ</h5>
                                                <p>Âú®ÁµÑÂà•‰∏ãÂª∫Á´ãÂ≠êÁæ§ÁµÑÔºåÊõ¥Á¥∞Á∑ªÁöÑÂàÜÈ°û</p>
                                            </div>
                                        </div>
                                        <div class="feature-item">
                                            <div class="feature-icon">üîΩ</div>
                                            <div class="feature-info">
                                                <h5>ÈÅéÊøæÈ°ØÁ§∫</h5>
                                                <p>ÊåâÁµÑÂà•ÊàñÁæ§ÁµÑÈÅéÊøæÈ°ØÁ§∫Ê®ôË®ªÈªû</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Êô∫ËÉΩÊèêÈÜí -->
                                <div class="feature-category">
                                    <div class="category-header">
                                        <div class="category-icon">üîî</div>
                                        <h4>Êô∫ËÉΩÊèêÈÜíÁ≥ªÁµ±</h4>
                                    </div>
                                    <div class="feature-list">
                                        <div class="feature-item">
                                            <div class="feature-icon">üìè</div>
                                            <div class="feature-info">
                                                <h5>Ë∑ùÈõ¢ÊèêÈÜí</h5>
                                                <p>Ë®≠ÂÆöÊèêÈÜíË∑ùÈõ¢ÔºåÊé•ËøëÊ®ôË®ªÈªûÊôÇËá™ÂãïÈÄöÁü•</p>
                                            </div>
                                        </div>
                                        <div class="feature-item">
                                            <div class="feature-icon">üîä</div>
                                            <div class="feature-info">
                                                <h5>Èü≥ÊïàÈÄöÁü•</h5>
                                                <p>ÊîØÊè¥Èü≥ÊïàÂíåÊåØÂãïÊèêÈÜí</p>
                                            </div>
                                        </div>
                                        <div class="feature-item">
                                            <div class="feature-icon">üåô</div>
                                            <div class="feature-info">
                                                <h5>ËÉåÊôØËøΩËπ§</h5>
                                                <p>Âç≥‰ΩøÂú®ËÉåÊôØ‰πüËÉΩÊåÅÁ∫å‰ΩçÁΩÆËøΩËπ§</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Ë≥áÊñôÁÆ°ÁêÜ -->
                                <div class="feature-category">
                                    <div class="category-header">
                                        <div class="category-icon">üìä</div>
                                        <h4>Ë≥áÊñôÁÆ°ÁêÜ</h4>
                                    </div>
                                    <div class="feature-list">
                                        <div class="feature-item">
                                            <div class="feature-icon">üì§</div>
                                            <div class="feature-info">
                                                <h5>ÂåØÂá∫Ë≥áÊñô</h5>
                                                <p>Â∞áÊ®ôË®ªÈªûË≥áÊñôÂåØÂá∫ÁÇ∫JSONÊ™îÊ°à</p>
                                            </div>
                                        </div>
                                        <div class="feature-item">
                                            <div class="feature-icon">üì•</div>
                                            <div class="feature-info">
                                                <h5>ÂåØÂÖ•Ë≥áÊñô</h5>
                                                <p>ÂæûJSONÊ™îÊ°àÂåØÂÖ•Ê®ôË®ªÈªûË≥áÊñô</p>
                                            </div>
                                        </div>
                                        <div class="feature-item">
                                            <div class="feature-icon">üíæ</div>
                                            <div class="feature-info">
                                                <h5>Êú¨Âú∞ÂÑ≤Â≠ò</h5>
                                                <p>ÊâÄÊúâË≥áÊñôÂÆâÂÖ®ÂÑ≤Â≠òÂú®Êú¨Âú∞Ë£ùÁΩÆ</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Âø´ÈÄüÊìç‰ΩúÊåáÂçó -->
                                <div class="feature-category">
                                    <div class="category-header">
                                        <div class="category-icon">‚ö°</div>
                                        <h4>Âø´ÈÄüÊìç‰ΩúÊåáÂçó</h4>
                                    </div>
                                    <div class="quick-guide">
                                        <div class="guide-step">
                                            <span class="step-number">1</span>
                                            <p>ÈªûÊìä„Äåüìç Ê®ôË®ªÊ®°Âºè„ÄçÈñãÂßãÊñ∞Â¢ûÊ®ôË®ªÈªû</p>
                                        </div>
                                        <div class="guide-step">
                                            <span class="step-number">2</span>
                                            <p>ÈªûÊìäÂú∞Âúñ‰ªªÊÑè‰ΩçÁΩÆÂª∫Á´ãÊ®ôË®ªÈªû</p>
                                        </div>
                                        <div class="guide-step">
                                            <span class="step-number">3</span>
                                            <p>Â°´ÂØ´Ê®ôË®ªÈªûË≥áË®ä‰∏¶ÈÅ∏ÊìáÁµÑÂà•</p>
                                        </div>
                                        <div class="guide-step">
                                            <span class="step-number">4</span>
                                            <p>ÈñãÂïü„Äåüìç ÈñãÂßãËøΩËπ§„ÄçÈÄ≤Ë°å‰ΩçÁΩÆËøΩËπ§</p>
                                        </div>
                                        <div class="guide-step">
                                            <span class="step-number">5</span>
                                            <p>Ë®≠ÂÆöÊèêÈÜíË∑ùÈõ¢ÔºåÊé•ËøëÊôÇËá™ÂãïÈÄöÁü•</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Âø´ÈÄüÊìç‰ΩúÂçÄÂüü -->
                <div class="setting-group">
                    <h4>üöÄ Âø´ÈÄüÊìç‰Ωú</h4>
                    <div class="quick-actions-grid">
                        <button id="centerMapBtn" class="quick-action-btn" title="ÂõûÂà∞Áï∂Ââç‰ΩçÁΩÆ">
                            <span>üìç</span>
                            <span>ÂÆö‰Ωç</span>
                        </button>

                        <button id="showAllMarkersBtn" class="quick-action-btn" title="È°ØÁ§∫ÊâÄÊúâÊ®ôË®ò">
                            <span>üëÅÔ∏è</span>
                            <span>È°ØÁ§∫ÂÖ®ÈÉ®</span>
                        </button>
                        <button id="showAllDetailsBtn" class="quick-action-btn" title="È°ØÁ§∫ÊâÄÊúâÁµÑÂà•ÂèäÁæ§ÁµÑË©≥ÊÉÖ">
                            <span>üìã</span>
                            <span>Ë©≥ÊÉÖ</span>
                        </button>
                    </div>
                </div>

                <!-- ÊêúÂ∞ãÊ®ôË®ªÈªû -->
                <div class="setting-group">
                    <h4>üîç ÊêúÂ∞ãÊ®ôË®ªÈªû</h4>
                    <div class="search-container">
                        <input type="text" id="markerSearchInput" placeholder="Ëº∏ÂÖ•Ê®ôË®ªÈªûÂêçÁ®±ÊàñÊèèËø∞..." class="search-input">
                        <button id="clearSearchBtn" class="clear-search-btn" title="Ê∏ÖÈô§ÊêúÂ∞ã">√ó</button>
                    </div>
                    <div id="searchResults" class="search-results" style="display: none;">
                        <!-- ÊêúÂ∞ãÁµêÊûúÂ∞áÂãïÊÖãÈ°ØÁ§∫Âú®ÈÄôË£° -->
                    </div>
                </div>

                <!-- ÁµÑÂà•ÁÆ°ÁêÜ -->
                <div class="setting-group">
                    <h4>üìÅ ÁµÑÂà•ÁÆ°ÁêÜ</h4>
                    <div class="group-management">
                        <div class="group-input-row">
                            <input type="text" id="groupNameInput" placeholder="Êñ∞ÁµÑÂà•ÂêçÁ®±" class="compact-input">
                            <button id="addGroupBtn" class="add-group-btn">+</button>
                        </div>
                        <div id="groupsList" class="groups-list"></div>
                    </div>
                </div>

                <!-- Ê®ôË®ªÈªûÂàóË°® -->
                <div class="setting-group">
                    <h4>üìç Ê®ôË®ªÈªûÂàóË°®</h4>
                    <div id="markersList" class="markers-list"></div>
                </div>

                <!-- ‰ΩçÁΩÆÊèêÈÜíË®≠ÂÆö -->
                <div class="setting-group">
                    <h4>üîî ‰ΩçÁΩÆÊèêÈÜíË®≠ÂÆö</h4>
                    <div class="setting-row">
                        <label class="switch">
                            <input type="checkbox" id="floatingEnableNotifications">
                            <span class="slider"></span>
                        </label>
                        <span>‰ΩçÁΩÆÊèêÈÜí</span>
                    </div>
                    <div class="setting-row">
                        <label>Ë∑ùÈõ¢</label>
                        <input type="number" id="floatingAlertDistance" value="100" min="10" max="1000" class="compact-input">
                        <span class="unit">m</span>
                    </div>
                    <div class="setting-row">
                        <label>ÈñìÈöî</label>
                        <input type="number" id="floatingAlertInterval" value="30" min="5" max="300" class="compact-input">
                        <span class="unit">s</span>
                    </div>
                    <div class="setting-row">
                        <label class="switch">
                            <input type="checkbox" id="floatingEnableNotificationSound" checked>
                            <span class="slider"></span>
                        </label>
                        <span>ÈÄöÁü•Èü≥Êïà</span>
                    </div>
                    <div class="setting-row">
                        <label>Èü≥Èáè</label>
                        <input type="range" id="floatingNotificationVolume" min="0" max="100" value="50" class="volume-slider">
                        <span class="volume-value">50%</span>
                    </div>
                </div>
                
                <!-- Âç≥ÊôÇÂÆö‰ΩçË®≠ÂÆö -->
                <div class="setting-group">
                    <h4>üìç Âç≥ÊôÇÂÆö‰ΩçË®≠ÂÆö</h4>
                    <div class="setting-row">
                        <label class="switch">
                            <input type="checkbox" id="floatingEnableHighAccuracy" checked>
                            <span class="slider"></span>
                        </label>
                        <span>È´òÁ≤æÂ∫¶Ê®°Âºè</span>
                    </div>
                    <div class="setting-row">
                        <label class="switch">
                            <input type="checkbox" id="floatingAutoStartTracking">
                            <span class="slider"></span>
                        </label>
                        <span>Ëá™ÂãïÈñãÂïüËøΩËπ§</span>
                    </div>
                    <div class="setting-row">
                        <label class="switch">
                            <input type="checkbox" id="floatingKeepMapCentered">
                            <span class="slider"></span>
                        </label>
                        <span>‰øùÊåÅÂú∞Âúñ‰∏≠Â§Æ</span>
                    </div>

                    <div class="setting-row">
                        <label>Êõ¥Êñ∞È†ªÁéá</label>
                        <select id="floatingLocationUpdateFrequency" class="compact-input">
                            <option value="200">Ë∂ÖÈ´òÈÄü (0.2Áßí)</option>
                            <option value="500">È´òÈÄü (0.5Áßí)</option>
                            <option value="1000">Âç≥ÊôÇ (1Áßí)</option>
                            <option value="2000">Âø´ÈÄü (2Áßí)</option>
                            <option value="3000" selected>Ê®ôÊ∫ñ (3Áßí)</option>
                            <option value="5000">ÁúÅÈõª (5Áßí)</option>
                            <option value="10000">‰ΩéËÄóÈõª (10Áßí)</option>
                            <option value="30000">Ë∂ÖÁúÅÈõª (30Áßí)</option>
                        </select>
                    </div>
                    <div class="setting-row">
                        <label>ÂÆö‰ΩçË∂ÖÊôÇ</label>
                        <input type="number" id="floatingLocationTimeout" value="20" min="5" max="60" class="compact-input">
                        <span class="unit">s</span>
                    </div>
                </div>
                
                <div class="location-display">
                    <div id="floatingCurrentLocation" onclick="handleCurrentLocationClick()" style="cursor: pointer; user-select: none;">ÂÆö‰Ωç‰∏≠...</div>
                    <div id="floatingLocationAccuracy" class="accuracy-display">Á≤æÂ∫¶: --</div>
                    <div id="floatingLocationStatus" class="status-display">ÁãÄÊÖã: Êú™ÂïüÂãï</div>
                    <div id="floatingLocationSpeed" class="speed-display" style="display: none;">ÈÄüÂ∫¶: --</div>
                </div>
                
                <!-- Ë®≠ÂÆöÁÆ°ÁêÜÊåâÈàï -->
                <div class="settings-actions">
                    <button id="floatingSaveSettingsBtn" class="settings-btn save-btn">
                        <span>üíæ</span>
                        ÂÑ≤Â≠òÁõÆÂâçË®≠ÂÆö
                    </button>
                    <button id="floatingLoadSettingsBtn" class="settings-btn load-btn">
                        <span>üìÇ</span>
                        ËºâÂÖ•Â∑≤ÂÑ≤Â≠òË®≠ÂÆö
                    </button>
                    <button id="floatingResetSettingsBtn" class="settings-btn reset-btn">
                        <span>üîÑ</span>
                        ÈáçÁΩÆÁÇ∫È†êË®≠ÂÄº
                    </button>
                </div>
                
                <!-- Ë≥áÊñôÂåØÂá∫ÂåØÂÖ•ÊåâÈàï -->
                <div class="data-actions">
                    <button id="floatingExportDataBtn" class="settings-btn export-btn">
                        <span>üì§</span>
                        ÂåØÂá∫Ê®ôË®ªÈªû
                    </button>
                    <button id="floatingImportDataBtn" class="settings-btn import-btn">
                        <span>üì•</span>
                        ÂåØÂÖ•Ê®ôË®ªÈªû
                    </button>
                    <input type="file" id="floatingImportFileInput" accept=".json" style="display: none;">
                </div>
            </div>
        </div>
    </div>



    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    
    <!-- ÈÄöÁü•Èü≥ÊïàËÖ≥Êú¨ -->
    <script src="notification-sound.js"></script>
    
    <!-- Android Êï¥ÂêàËÖ≥Êú¨ -->
    <script src="android-integration.js"></script>
    

    
    <script src="script.js?v=mobile-debug-version-20240927"></script>
    <script src="android-debug.js"></script>
    <script src="android-feature-guide-fix.js"></script>
    <script src="simple-feature-guide.js"></script>
    

</body>
</html>